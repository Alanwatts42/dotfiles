#!/bin/bash
#                           **ALIASES**  
## Evan Sherwood
## evan.sherwood@keemail.me

# Reference(s): 
# -------------

# <https://stackoverflow.com/questions/5240755/how-to-use-aliases-defined-in-bashrc-in-other-scripts>

# Bash aliases - examples found in /usr/share/doc/bash-doc/examples

# Functions - similar to aliases, but can have things like parameters/variables

# Example function - "apt-grab <program> = "sudo apt-get -f install <program> --install-suggests"


# Functions:
# ----------

suinstall () {
    echo "alright, installing...";
    sudo apt-get update && sudo apt-get dist-upgrade;
    sudo apt-get install "$1"
}

aptsearchnew () {
    apt search "$1" | grep -v "[installed]"
}

hush () {
    "$1" >/dev/null 2>&1
}

eyewget () {
    wget -m -np -c -U "eye01" -R "index.html*" "$@"
}

wgame () {
    wget -m -np -nd -c -U "eye01" -R "index.html*" 'http://the-eye.eu/public/Games/Linux/"$@"'
}

eyeallgames () {
    wget -m -np -cr -U "eye01" -R "index.html*" "http://the-eye.eu/public/Games/Linux/"
}

badzshhistoryfix () {
    mv .zsh_history .zsh_history_bad;
    strings .zsh_history_bad > .zsh_history;
    fc -R .zsh_history;
    echo ".zsh_history should be fixed now"
}


wgetpsx () {
    cd ~/RetroPie/roms/psx || exit;
    if wget -c -t 99 --retry-connrefused "$@" --no-check-certificate;then
        ripsaw
    else
        echo "download incomplete, ripsaw did not run"
    fi
}

wgetdc () {
    cd ~/RetroPie/roms/dreamcast || exit;
    if wget -c -t 999 --retry-connrefused "$@" --no-check-certificate;then
        ripsaw
    else 
        echo "download incomplete, ripsaw did not run"    
    fi
}

## time-delayed resume operation (after ctrl-z)
resumeafter () {
    echo "resuming process after ${1} minutes"
    sleep "$1"m && fg
}

## wget --no-check-certificate
wgetnc () {
    if wget -c -t 999 --retry-connrefused "$@" --no-check-certificate;then
        ripsaw
    else
        echo "download incomplete, ripsaw did not run"
    fi
}


## it's called wificonnect, you get one guess what it does
wificonnect () { 
    sudo nmcli dev wifi connect "$1" password "$2"
}

## run install using synaptic and treat suggestions as dependencies
shinstall () { 
    sudo apt-get update && sudo apt-get dist-upgrade --fix-missing -y;
    sudo apt-get -fm install "$@" --install-suggests -y
}

## pipe terminal output to vim
vimget () {
    # shellcheck disable=SC2039
    vim <("$@")
}
## pipe terminal output to less text viewer
lessget () {
    # shellcheck disable=SC2039
    less -f <('$@')
}
## copy the contents of a text file to the clipboard
clipfile () {
    xclip -i -selection c "$1"
}
#
## run something with no terminal output (quietly)
hush () {
    "$1" >/dev/null #"$2" >&"$1" (std.err to /dev/null)
}

# doainloopb [for each part of iterable] "$1" [run command] "$2"
# example: doainloopb ls chmod +x  =  list contents of current directory and run chmod +x on each 
# item in that list in other words, loop through working directory and make each file executable.
forloop () {
    
    echo enter file extension of files in "$(pwd)" to loop through
    read -r ext 
    
    echo now enter the operation to perform on each loop
    read -r op
    
    for i in *."$ext";do
        "$op" "$i"
    done
    
    echo it is done! Now look upon what your foolishness has wrought!
    ls
}

# trying to automate: 
#   git add --all <return>; 
#   git commit -m 'message' <return>; 
#   git push <return>;
# challenge: executing each line 
#   individually within the function.
# solution: ending each 'line' with a `;`
#   it appears that `;` works to end each line
#   as if it were typed into the shell and 
#   executed with <return>
gitup () {
   git add --all;    
   git commit -m "$1"; 
   git push;
}

# quickly add all changes and push to remote
# with generic commit message 'minor edits'
gitsync () {
   git add --all;    
   git commit -m "minor edits"; 
   git push;
}



# make file executable
alias chmodx="sudo chmod +x"

# switch x-session manager (i.e. gnome to lxde to lxqt etc.)
alias switchxmanager='sudo update-alternatives --config x-session-manager'

# gksu replacement
alias gksu="gedit admin://"

# get missing gpg keys
alias getkeys="sudo launchpad-getkeys"

# tilix quake mode
alias tilix="tilix --quake"

# terminal navigation
alias ls="ls -a --color=auto"
alias lss='ls'
alias lsa="ls -apw 110 --group-directories-first"
alias lsg="ls -GAp --group-directories-first"
alias lsd="ls -plax --group-directories-first"
alias lsg="ls -a | grep"
alias lsm="ls -t" # order by recently modified -r = most recent first
alias lsr="ls -tr" # order by recently modified -tr = most recent last
alias lsi="ls -lhtr" # informative ordered list

# apt or apt-get shortcuts for convenience
alias aptgup="sudo apt-get update && sudo apt-get dist-upgrade -y"
alias aptg="sudo apt-get"
alias aptinstall="sudo apt-get -f install"
alias aptup="sudo apt update && sudo apt upgrade"
alias aptgin="sudo apt-get install"
alias aptseek="sudo apt search"
alias aptpurge="sudo apt-get purge"
alias aptremove="sudo apt-get remove"

# add/remove repositories
alias aptaddrepo="sudo add-apt-repository"
alias aptrmrepo="sudo add-apt-repository --remove"
alias aptrmppa:="sudo add-apt-repository --remove ppa:"
alias aptmylist="sudo apt list --installed"
alias aptmylistgrep="sudo apt list --installed | grep"
alias aptbiglistgrep="sudo apt list | grep"
alias aptbiglistvim="vim <(sudo apt list)"
alias apshow="apt show"

# splash screens
alias splashscreensearch="apt-cache search plymouth-theme"
alias splashscreenchange="sudo update-alternatives --config default.plymouth"
alias updatebootimage="sudo update-initramfs -u"

# clear screen
alias clr="clear"
alias cls="clear"
alias cs="clear"
alias cx="clear -x"
# super user
alias su="sudo"
# open and edit with vi improved a.k.a. vim 8
alias vi="vim"
# open and edit with neovim
alias nvi="nvim"

# Sets screen brightness for monitor i.e. backlight (number between 0 and 1)
alias brightlvl="lxqt-config-brightness edp1 -s"

# Wifi operations via the terminal
alias wifi-go="sudo nmcli dev wifi connect"
alias mifi="sudo nmcli dev wifi connect the_very_small_array password amqv294#"
alias wifi-scan="sudo nmcli dev wifi"

# Pip, pipenv, and python
alias pipinstall="sudo pip3 --user install"
alias pipenv="python3 -m pipenv"
alias ppvg="python3 -m pipenv graph"
alias ppvin="python3 -m pipenv install"
alias ppvcheck="python3 -m pipenv check"
alias ppvsync="python3 -m pipenv sync"
alias ppvupdate="python3 -m pipenv update"
alias pipenvshell="python3 -m pipenv shell"

# --Git--
# start a working area
alias ginit="git init"
alias gclone="git clone"
# work on the current change
alias gadd="git add"
alias gmv="git mv"
alias greset="git reset"
alias grm="git rm"
# examine the history and state (see also: git help revisions)
alias gbisect="git bisect"
alias ggrep="git grep"
alias glog="git log"
alias gshow="git show"
alias gs="git status"
# grow, mark and tweak your common history
alias gbranch="git branch"
alias gcheckout="git checkout"
alias gdiff="git diff"
alias gcommit="git commit"
alias gmerge="git merge"
alias grebase="git rebase"
alias gtag="git tag"
# collaborate (see also: git help workflows)
alias gfetch="git fetch"
alias gpush="git push"
alias gpull="git pull"

# Emulation & Games - Last but not least
alias vidgames="emulationstation"
alias emustation="emulationstation"
alias emu="emulationstation"
alias videogames="emulationstation"

# Python
alias python="python3"
alias py="python3"

# Custom Scripts
alias sync-dfs="~/sync.sh"

# Custom Shell Commands
alias lets_kick_shell='vim "$HOME"/.kick_shell'

# --Utilities--
# qutebrowser (start with debug features on)
alias qtbrowse="qutebrowser --debug --debug"

# youtube-dl
alias youtube-dll="youtube-dl --geo-bypass --merge-output-format mp4 --restrict-filenames -R 99 --max-filesize 2000m --max-downloads 50 --verbose"
alias youtube-dlx="youtube-dl -i -R 99 --yes-playlist  --verbose"  #ignore errors
alias youtube-dlu="youtube-dl -U"  #update

# wget
alias wget="wget -c -t 999 --retry-connrefused"
alias wgetu="wget --user-agent='Mozilla/5.0 (X11; Fedora; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52'"


# curl
alias curl="curl -retry 99 --retry-connrefused"

# ecm
alias unecm="ecm-uncompress"
# alias ecm="ecm-compress"

# --Applications--
alias firefox="firefox"
alias xkbind="xbindkeys --key"
alias imageview="gpicview"
alias pictureview="gpicview"
alias picview="gpicview"
alias qpdf="qpdfview"
